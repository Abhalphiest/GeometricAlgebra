   1 0000               #
   2 0000               # File:		ga_main.asm
   3 0000               #
   4 0000               # Author:	Margaret Dorsey
   5 0000               #
   6 0000               # Description:	ga_main.asm basically provides an interface for testing
   7 0000               #		and utilizing the functions of geomalgebra.asm. Thus
   8 0000               #		here we handle mostly user input, validation, and
   9 0000               #		function calls.
  10 0000               #
  11 0000               # Revisions:	see gitlog.txt
  12 0000               #
  13 0000               
  14 0000               #
  15 0000               # CONSTANT DEFINITIONS
  16 0000               #
  17 0000               
  18 0000               #syscalls
  19 0000               PRINT_STRING = 	4
  20 0000               READ_INT =	5
  21 0000               EXIT = 		10
  22 0000               
  23 0000               #for looping
  24 0000               DIMENSION =	8
  25 0000               
  26 0000               #
  27 0000               # DATA
  28 0000               #
  29 0000               
  30 0000               	.data
  31 0000               	.align	2
  32 0000               
  33 0000               first_vector_label:
  34 0000 46697273		.asciiz "First operand: "
          74206F70
          6572616E
          643A2000
  35 0010               second_vector_label:
  36 0010 5365636F		.asciiz "Second operand: "
          6E64206F
          70657261
          6E643A20
          00      
  37 0021               product_label:
  38 0021 50726F64		.asciiz "Product output: "
          75637420
          6F757470
          75743A20
          00      
  39 0032               newline:
  40 0032 0A00    		.asciiz "\n"
  41 0034               
  42 0034               	.align 	2
  43 0034               input_arr:
  44 0034 00000000		.space 32	#the max we would need for 3 dim
          00000000
          00000000
          00000000
          00000000
          00000000
  45 0054               #
  46 0054               # FUNCTIONS
  47 0054               #
  48 0054               
  49 0000               	.text
  50 0000               	.align	2
  51 0000               	.globl	main
  52 0000               	.globl	print_basis
  53 0000               	.globl	print_ga_object
  54 0000               	.globl	new_ga_object
  55 0000               #	.globl	geom_product
  56 0000               
  57 0000               main:
  58 0000 23BDFFE4		addi	$sp, $sp, -28		#build our stack frame
  59 0004 AFBF0000		sw	$ra, 0($sp)
  60 0008 AFB00004		sw	$s0, 4($sp)
  61 000c AFB10008		sw	$s1, 8($sp)
  62 0010 AFB2000C		sw	$s2, 12($sp)
  63 0014 AFB30010		sw	$s3, 16($sp)
  64 0018 AFB40014		sw	$s4, 20($sp)
  65 001c AFB50018		sw	$s5, 24($sp)
  66 0020               
  67 0020 0000A025		or	$s4, $zero, $zero	#loop control
  68 0024 34130008		ori	$s3, $zero, DIMENSION	#set up for loop bound
  69 0028 3C150000		la	$s5, input_arr
     002c 36B50000
  70 0030               get_input_loop:
  71 0030 0293402A		slt	$t0, $s4, $s3		#will be 1 if we are still in
  72 0034 11000008		beq	$t0, $zero, validate_input
  73 0038 00142025		or	$a0, $zero, $s4
  74 003c 0C000000		jal	print_basis
  75 0040 34020005		ori	$v0, $zero, READ_INT
  76 0044 0000000C		syscall
  77 0048 AEA20000		sw	$v0, 0($s5)
  78 004c 22B50004		addi	$s5, $s5, 4
  79 0050 22940001		addi	$s4, $s4, 1
  80 0054 0800000C		j	get_input_loop
  81 0058               	
  82 0058               validate_input:
  83 0058 00152025		or	$a0, $zero, $s5		#our array is an arg
  84 005c 0C000000		jal	new_ga_object
  85 0060 00022025		or	$a0, $zero, $v0
  86 0064 0C000000		jal	print_ga_object
  87 0068               
  88 0068 8FBF0000		lw	$ra, 0($sp)
  89 006c 8FB00004		lw	$s0, 4($sp)
  90 0070 8FB10008		lw	$s1, 8($sp)
  91 0074 8FB2000C		lw	$s2, 12($sp)
  92 0078 8FB30010		lw	$s3, 16($sp)
  93 007c 8FB40014		lw	$s4, 20($sp)
  94 0080 8FB50018		lw	$s5, 24($sp)
  95 0084 23BD001C		addi	$sp, $sp, 28
  96 0088 03E00008		jr	$ra		#return


DIMENSION            = 00000008   
EXIT                 = 0000000A   
PRINT_STRING         = 00000004   
READ_INT             = 00000005   
first_vector_label     00000000 R  data 
get_input_loop         00000030 R  text 
input_arr              00000034 R  data 
main                   00000000 RG text 
new_ga_object          ******** XG
newline                00000032 R  data 
print_basis            ******** XG
print_ga_object        ******** XG
product_label          00000021 R  data 
second_vector_label    00000010 R  data 
validate_input         00000058 R  text 
